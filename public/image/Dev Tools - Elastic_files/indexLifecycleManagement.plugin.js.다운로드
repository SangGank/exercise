/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License; you may not use this file except in compliance with the Elastic License. */(function(modules){function webpackJsonpCallback(data){var chunkIds=data[0];var moreModules=data[1];var moduleId,chunkId,i=0,resolves=[];for(;i<chunkIds.length;i++){chunkId=chunkIds[i];if(Object.prototype.hasOwnProperty.call(installedChunks,chunkId)&&installedChunks[chunkId]){resolves.push(installedChunks[chunkId][0])}installedChunks[chunkId]=0}for(moduleId in moreModules){if(Object.prototype.hasOwnProperty.call(moreModules,moduleId)){modules[moduleId]=moreModules[moduleId]}}if(parentJsonpFunction)parentJsonpFunction(data);while(resolves.length){resolves.shift()()}}var installedModules={};var installedChunks={0:0};function jsonpScriptSrc(chunkId){return __webpack_require__.p+"indexLifecycleManagement.chunk."+chunkId+".js"}function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.e=function requireEnsure(chunkId){var promises=[];var installedChunkData=installedChunks[chunkId];if(installedChunkData!==0){if(installedChunkData){promises.push(installedChunkData[2])}else{var promise=new Promise((function(resolve,reject){installedChunkData=installedChunks[chunkId]=[resolve,reject]}));promises.push(installedChunkData[2]=promise);var script=document.createElement("script");var onScriptComplete;script.charset="utf-8";script.timeout=120;if(__webpack_require__.nc){script.setAttribute("nonce",__webpack_require__.nc)}script.src=jsonpScriptSrc(chunkId);var error=new Error;onScriptComplete=function(event){script.onerror=script.onload=null;clearTimeout(timeout);var chunk=installedChunks[chunkId];if(chunk!==0){if(chunk){var errorType=event&&(event.type==="load"?"missing":event.type);var realSrc=event&&event.target&&event.target.src;error.message="Loading chunk "+chunkId+" failed.\n("+errorType+": "+realSrc+")";error.name="ChunkLoadError";error.type=errorType;error.request=realSrc;chunk[1](error)}installedChunks[chunkId]=undefined}};var timeout=setTimeout((function(){onScriptComplete({type:"timeout",target:script})}),12e4);script.onerror=script.onload=onScriptComplete;document.head.appendChild(script)}}return Promise.all(promises)};__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";__webpack_require__.oe=function(err){console.error(err);throw err};var jsonpArray=window["indexLifecycleManagement_bundle_jsonpfunction"]=window["indexLifecycleManagement_bundle_jsonpfunction"]||[];var oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback;jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;return __webpack_require__(__webpack_require__.s=20)})([function(module,exports){module.exports=__kbnSharedDeps__.React},function(module,exports){module.exports=__kbnSharedDeps__.ElasticEui},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18n},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18nReact},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"p",(function(){return defaultNewHotPhase}));__webpack_require__.d(__webpack_exports__,"q",(function(){return defaultNewWarmPhase}));__webpack_require__.d(__webpack_exports__,"n",(function(){return defaultNewColdPhase}));__webpack_require__.d(__webpack_exports__,"o",(function(){return defaultNewDeletePhase}));__webpack_require__.d(__webpack_exports__,"r",(function(){return serializedPhaseInitialization}));__webpack_require__.d(__webpack_exports__,"a",(function(){return ui_metric["b"]}));__webpack_require__.d(__webpack_exports__,"j",(function(){return ui_metric["k"]}));__webpack_require__.d(__webpack_exports__,"m",(function(){return ui_metric["n"]}));__webpack_require__.d(__webpack_exports__,"k",(function(){return ui_metric["l"]}));__webpack_require__.d(__webpack_exports__,"h",(function(){return ui_metric["i"]}));__webpack_require__.d(__webpack_exports__,"i",(function(){return ui_metric["j"]}));__webpack_require__.d(__webpack_exports__,"l",(function(){return ui_metric["m"]}));__webpack_require__.d(__webpack_exports__,"b",(function(){return ui_metric["c"]}));__webpack_require__.d(__webpack_exports__,"e",(function(){return ui_metric["f"]}));__webpack_require__.d(__webpack_exports__,"d",(function(){return ui_metric["e"]}));__webpack_require__.d(__webpack_exports__,"c",(function(){return ui_metric["d"]}));__webpack_require__.d(__webpack_exports__,"g",(function(){return ui_metric["h"]}));__webpack_require__.d(__webpack_exports__,"f",(function(){return ui_metric["g"]}));var defaultNewHotPhase={phaseEnabled:true,rolloverEnabled:true,selectedMaxAge:"30",selectedMaxAgeUnits:"d",selectedMaxSizeStored:"50",selectedMaxSizeStoredUnits:"gb",forceMergeEnabled:false,selectedForceMergeSegments:"",bestCompressionEnabled:false,phaseIndexPriority:"100",selectedMaxDocuments:""};var defaultNewWarmPhase={phaseEnabled:false,forceMergeEnabled:false,selectedForceMergeSegments:"",bestCompressionEnabled:false,selectedMinimumAge:"0",selectedMinimumAgeUnits:"d",selectedNodeAttrs:"",shrinkEnabled:false,selectedPrimaryShardCount:"",selectedReplicaCount:"",warmPhaseOnRollover:true,phaseIndexPriority:"50",dataTierAllocationType:"default"};var defaultNewColdPhase={phaseEnabled:false,selectedMinimumAge:"0",selectedMinimumAgeUnits:"d",selectedNodeAttrs:"",selectedReplicaCount:"",freezeEnabled:false,phaseIndexPriority:"0",dataTierAllocationType:"default"};var defaultNewDeletePhase={phaseEnabled:false,selectedMinimumAge:"0",selectedMinimumAgeUnits:"d",waitForSnapshotPolicy:""};var serializedPhaseInitialization={min_age:"0ms",actions:{}};var ui_metric=__webpack_require__(14)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return init}));__webpack_require__.d(__webpack_exports__,"d",(function(){return sendPost}));__webpack_require__.d(__webpack_exports__,"c",(function(){return sendGet}));__webpack_require__.d(__webpack_exports__,"b",(function(){return sendDelete}));__webpack_require__.d(__webpack_exports__,"e",(function(){return useRequest}));var _src_plugins_es_ui_shared_public__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(19);var _src_plugins_es_ui_shared_public__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_src_plugins_es_ui_shared_public__WEBPACK_IMPORTED_MODULE_0__);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var _httpClient;function init(httpClient){_httpClient=httpClient}function getFullPath(path){var apiPrefix="/api/index_lifecycle_management";if(path){return"".concat(apiPrefix,"/").concat(path)}return apiPrefix}function sendPost(path,payload,query){return _httpClient.post(getFullPath(path),{body:JSON.stringify(payload),query:query})}function sendGet(path,query){return _httpClient.get(getFullPath(path),{query:query})}function sendDelete(path){return _httpClient.delete(getFullPath(path))}var useRequest=function useRequest(config){return Object(_src_plugins_es_ui_shared_public__WEBPACK_IMPORTED_MODULE_0__["useRequest"])(_httpClient,_objectSpread(_objectSpread({},config),{},{path:getFullPath(config.path)}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return toasts}));__webpack_require__.d(__webpack_exports__,"a",(function(){return fatalErrors}));__webpack_require__.d(__webpack_exports__,"b",(function(){return init}));var toasts;var fatalErrors;function init(_toasts,_fatalErrors){toasts=_toasts;fatalErrors=_fatalErrors}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return trackUiMetric}));__webpack_require__.d(__webpack_exports__,"b",(function(){return init}));__webpack_require__.d(__webpack_exports__,"a",(function(){return getUiMetricsForPhases}));var _constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4);var trackUiMetric=function trackUiMetric(metricType,eventName){};function init(usageCollection){if(usageCollection){trackUiMetric=usageCollection.reportUiStats.bind(usageCollection,_constants__WEBPACK_IMPORTED_MODULE_0__["a"])}}function getUiMetricsForPhases(phases){var phaseUiMetrics=[{metric:_constants__WEBPACK_IMPORTED_MODULE_0__["b"],isTracked:function isTracked(){return Boolean(phases.cold)}},{metric:_constants__WEBPACK_IMPORTED_MODULE_0__["e"],isTracked:function isTracked(){return Boolean(phases.warm)}},{metric:_constants__WEBPACK_IMPORTED_MODULE_0__["d"],isTracked:function isTracked(){var isHotPhasePriorityChanged=phases.hot&&phases.hot.actions.set_priority&&phases.hot.actions.set_priority.priority!==parseInt(_constants__WEBPACK_IMPORTED_MODULE_0__["p"].phaseIndexPriority,10);var isWarmPhasePriorityChanged=phases.warm&&phases.warm.actions.set_priority&&phases.warm.actions.set_priority.priority!==parseInt(_constants__WEBPACK_IMPORTED_MODULE_0__["q"].phaseIndexPriority,10);var isColdPhasePriorityChanged=phases.cold&&phases.cold.actions.set_priority&&phases.cold.actions.set_priority.priority!==parseInt(_constants__WEBPACK_IMPORTED_MODULE_0__["n"].phaseIndexPriority,10);return isHotPhasePriorityChanged||isWarmPhasePriorityChanged||isColdPhasePriorityChanged}},{metric:_constants__WEBPACK_IMPORTED_MODULE_0__["c"],isTracked:function isTracked(){return phases.cold&&phases.cold.actions.freeze}}];return phaseUiMetrics.reduce((function(tracked,_ref){var metric=_ref.metric,isTracked=_ref.isTracked;if(isTracked()){tracked.push(metric)}return tracked}),[])}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"j",(function(){return useLoadNodes}));__webpack_require__.d(__webpack_exports__,"i",(function(){return useLoadNodeDetails}));__webpack_require__.d(__webpack_exports__,"h",(function(){return useLoadIndexTemplates}));__webpack_require__.d(__webpack_exports__,"d",(function(){return loadPolicies}));__webpack_require__.d(__webpack_exports__,"k",(function(){return useLoadPoliciesList}));__webpack_require__.d(__webpack_exports__,"g",(function(){return savePolicy}));__webpack_require__.d(__webpack_exports__,"c",(function(){return deletePolicy}));__webpack_require__.d(__webpack_exports__,"f",(function(){return retryLifecycleForIndex}));__webpack_require__.d(__webpack_exports__,"e",(function(){return removeLifecycleForIndex}));__webpack_require__.d(__webpack_exports__,"a",(function(){return addLifecyclePolicyToIndex}));__webpack_require__.d(__webpack_exports__,"b",(function(){return addLifecyclePolicyToTemplate}));__webpack_require__.d(__webpack_exports__,"l",(function(){return useLoadSnapshotPolicies}));var _kbn_analytics__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10);var _constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4);var _ui_metric__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7);var _http__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}var useLoadNodes=function useLoadNodes(){return Object(_http__WEBPACK_IMPORTED_MODULE_3__["e"])({path:"nodes/list",method:"get",initialData:{nodesByAttributes:{},nodesByRoles:{}}})};var useLoadNodeDetails=function useLoadNodeDetails(selectedNodeAttrs){return Object(_http__WEBPACK_IMPORTED_MODULE_3__["e"])({path:"nodes/".concat(selectedNodeAttrs,"/details"),method:"get"})};var useLoadIndexTemplates=function useLoadIndexTemplates(){var legacy=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return Object(_http__WEBPACK_IMPORTED_MODULE_3__["e"])({path:"templates",query:{legacy:legacy},method:"get",initialData:[]})};function loadPolicies(_x){return _loadPolicies.apply(this,arguments)}function _loadPolicies(){_loadPolicies=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(withIndices){return regeneratorRuntime.wrap((function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return Object(_http__WEBPACK_IMPORTED_MODULE_3__["c"])("policies",{withIndices:withIndices});case 2:return _context5.abrupt("return",_context5.sent);case 3:case"end":return _context5.stop()}}}),_callee5)})));return _loadPolicies.apply(this,arguments)}var useLoadPoliciesList=function useLoadPoliciesList(withIndices){return Object(_http__WEBPACK_IMPORTED_MODULE_3__["e"])({path:"policies",method:"get",query:{withIndices:withIndices}})};function savePolicy(_x2){return _savePolicy.apply(this,arguments)}function _savePolicy(){_savePolicy=_asyncToGenerator(regeneratorRuntime.mark((function _callee6(policy){return regeneratorRuntime.wrap((function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return Object(_http__WEBPACK_IMPORTED_MODULE_3__["d"])("policies",policy);case 2:return _context6.abrupt("return",_context6.sent);case 3:case"end":return _context6.stop()}}}),_callee6)})));return _savePolicy.apply(this,arguments)}function deletePolicy(_x3){return _deletePolicy.apply(this,arguments)}function _deletePolicy(){_deletePolicy=_asyncToGenerator(regeneratorRuntime.mark((function _callee7(policyName){var response;return regeneratorRuntime.wrap((function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return Object(_http__WEBPACK_IMPORTED_MODULE_3__["b"])("policies/".concat(encodeURIComponent(policyName)));case 2:response=_context7.sent;Object(_ui_metric__WEBPACK_IMPORTED_MODULE_2__["c"])(_kbn_analytics__WEBPACK_IMPORTED_MODULE_0__["a"].COUNT,_constants__WEBPACK_IMPORTED_MODULE_1__["k"]);return _context7.abrupt("return",response);case 5:case"end":return _context7.stop()}}}),_callee7)})));return _deletePolicy.apply(this,arguments)}var retryLifecycleForIndex=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(indexNames){var response;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Object(_http__WEBPACK_IMPORTED_MODULE_3__["d"])("index/retry",{indexNames:indexNames});case 2:response=_context.sent;Object(_ui_metric__WEBPACK_IMPORTED_MODULE_2__["c"])(_kbn_analytics__WEBPACK_IMPORTED_MODULE_0__["a"].COUNT,_constants__WEBPACK_IMPORTED_MODULE_1__["g"]);return _context.abrupt("return",response);case 5:case"end":return _context.stop()}}}),_callee)})));return function retryLifecycleForIndex(_x4){return _ref.apply(this,arguments)}}();var removeLifecycleForIndex=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(indexNames){var response;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return Object(_http__WEBPACK_IMPORTED_MODULE_3__["d"])("index/remove",{indexNames:indexNames});case 2:response=_context2.sent;Object(_ui_metric__WEBPACK_IMPORTED_MODULE_2__["c"])(_kbn_analytics__WEBPACK_IMPORTED_MODULE_0__["a"].COUNT,_constants__WEBPACK_IMPORTED_MODULE_1__["l"]);return _context2.abrupt("return",response);case 5:case"end":return _context2.stop()}}}),_callee2)})));return function removeLifecycleForIndex(_x5){return _ref2.apply(this,arguments)}}();var addLifecyclePolicyToIndex=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(body){var response;return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return Object(_http__WEBPACK_IMPORTED_MODULE_3__["d"])("index/add",body);case 2:response=_context3.sent;Object(_ui_metric__WEBPACK_IMPORTED_MODULE_2__["c"])(_kbn_analytics__WEBPACK_IMPORTED_MODULE_0__["a"].COUNT,_constants__WEBPACK_IMPORTED_MODULE_1__["h"]);return _context3.abrupt("return",response);case 5:case"end":return _context3.stop()}}}),_callee3)})));return function addLifecyclePolicyToIndex(_x6){return _ref3.apply(this,arguments)}}();var addLifecyclePolicyToTemplate=function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(body){var legacy,response,_args4=arguments;return regeneratorRuntime.wrap((function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:legacy=_args4.length>1&&_args4[1]!==undefined?_args4[1]:false;_context4.next=3;return Object(_http__WEBPACK_IMPORTED_MODULE_3__["d"])("template",body,{legacy:legacy});case 3:response=_context4.sent;Object(_ui_metric__WEBPACK_IMPORTED_MODULE_2__["c"])(_kbn_analytics__WEBPACK_IMPORTED_MODULE_0__["a"].COUNT,_constants__WEBPACK_IMPORTED_MODULE_1__["i"]);return _context4.abrupt("return",response);case 6:case"end":return _context4.stop()}}}),_callee4)})));return function addLifecyclePolicyToTemplate(_x7){return _ref4.apply(this,arguments)}}();var useLoadSnapshotPolicies=function useLoadSnapshotPolicies(){return Object(_http__WEBPACK_IMPORTED_MODULE_3__["e"])({path:"snapshot_policies",method:"get",initialData:[]})}},function(module,exports){module.exports=__kbnSharedDeps__.Lodash},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return METRIC_TYPE}));function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&(typeof call==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _wrapNativeSuper(Class){var _cache=typeof Map==="function"?new Map:undefined;_wrapNativeSuper=function _wrapNativeSuper(Class){if(Class===null||!_isNativeFunction(Class))return Class;if(typeof Class!=="function"){throw new TypeError("Super expression must either be null or a function")}if(typeof _cache!=="undefined"){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:false,writable:true,configurable:true}});return _setPrototypeOf(Wrapper,Class)};return _wrapNativeSuper(Class)}function _construct(Parent,args,Class){if(_isNativeReflectConstruct()){_construct=Reflect.construct}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor;if(Class)_setPrototypeOf(instance,Class.prototype);return instance}}return _construct.apply(null,arguments)}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function _isNativeFunction(fn){return Function.toString.call(fn).indexOf("[native code]")!==-1}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function wrapArray(subj){return Array.isArray(subj)?subj:[subj]}var UnreachableCaseError=function(_Error){_inherits(UnreachableCaseError,_Error);var _super=_createSuper(UnreachableCaseError);function UnreachableCaseError(val){_classCallCheck(this,UnreachableCaseError);return _super.call(this,"Unreachable case: ".concat(val))}return UnreachableCaseError}(_wrapNativeSuper(Error));function createUiStatsMetric(_ref){var type=_ref.type,appName=_ref.appName,eventName=_ref.eventName,_ref$count=_ref.count,count=_ref$count===void 0?1:_ref$count;return{type:type,appName:appName,eventName:eventName,count:count}}var external_kbnSharedDeps_MomentTimezone_=__webpack_require__(11);var external_kbnSharedDeps_MomentTimezone_default=__webpack_require__.n(external_kbnSharedDeps_MomentTimezone_);function application_usage_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var application_usage_ApplicationUsage=function(){function ApplicationUsage(){application_usage_classCallCheck(this,ApplicationUsage);_defineProperty(this,"currentUsage",void 0)}_createClass(ApplicationUsage,[{key:"start",value:function start(){var _this=this;if(window)window.addEventListener("click",(function(){return _this.currentUsage&&_this.currentUsage.numberOfClicks++}))}},{key:"appChanged",value:function appChanged(appId){var currentUsage=this.currentUsage;if(appId){this.currentUsage={type:METRIC_TYPE.APPLICATION_USAGE,appId:appId,startTime:external_kbnSharedDeps_MomentTimezone_default()(),numberOfClicks:0}}else{this.currentUsage=void 0}return currentUsage}}]);return ApplicationUsage}();var stats=__webpack_require__(16);function trackUsageAgent(appName){var userAgent=window&&window.navigator&&window.navigator.userAgent||"";return{type:METRIC_TYPE.USER_AGENT,appName:appName,userAgent:userAgent}}var METRIC_TYPE;(function(METRIC_TYPE){METRIC_TYPE["COUNT"]="count";METRIC_TYPE["LOADED"]="loaded";METRIC_TYPE["CLICK"]="click";METRIC_TYPE["USER_AGENT"]="user_agent";METRIC_TYPE["APPLICATION_USAGE"]="application_usage"})(METRIC_TYPE||(METRIC_TYPE={}));function storage_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function storage_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function storage_createClass(Constructor,protoProps,staticProps){if(protoProps)storage_defineProperties(Constructor.prototype,protoProps);if(staticProps)storage_defineProperties(Constructor,staticProps);return Constructor}function storage_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ReportStorageManager=function(){function ReportStorageManager(storageKey,storage){storage_classCallCheck(this,ReportStorageManager);storage_defineProperty(this,"storageKey",void 0);storage_defineProperty(this,"storage",void 0);this.storageKey=storageKey;this.storage=storage}storage_createClass(ReportStorageManager,[{key:"get",value:function get(){if(!this.storage)return;return this.storage.get(this.storageKey)}},{key:"store",value:function store(report){if(!this.storage)return;this.storage.set(this.storageKey,report)}}]);return ReportStorageManager}();function report_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function report_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function report_createClass(Constructor,protoProps,staticProps){if(protoProps)report_defineProperties(Constructor.prototype,protoProps);if(staticProps)report_defineProperties(Constructor,staticProps);return Constructor}function report_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var REPORT_VERSION=1;var report_ReportManager=function(){function ReportManager(report){report_classCallCheck(this,ReportManager);report_defineProperty(this,"report",void 0);this.report=report||ReportManager.createReport()}report_createClass(ReportManager,[{key:"clearReport",value:function clearReport(){this.report=ReportManager.createReport()}},{key:"isReportEmpty",value:function isReportEmpty(){var _this$report=this.report,uiStatsMetrics=_this$report.uiStatsMetrics,userAgent=_this$report.userAgent,appUsage=_this$report.application_usage;var noUiStats=!uiStatsMetrics||Object.keys(uiStatsMetrics).length===0;var noUserAgent=!userAgent||Object.keys(userAgent).length===0;var noAppUsage=!appUsage||Object.keys(appUsage).length===0;return noUiStats&&noUserAgent&&noAppUsage}},{key:"incrementStats",value:function incrementStats(count,stats){var _ref=stats||{},_ref$min=_ref.min,min=_ref$min===void 0?0:_ref$min,_ref$max=_ref.max,max=_ref$max===void 0?0:_ref$max,_ref$sum=_ref.sum,sum=_ref$sum===void 0?0:_ref$sum;var newMin=Math.min(min,count);var newMax=Math.max(max,count);var newAvg=newMin+newMax/2;var newSum=sum+count;return{min:newMin,max:newMax,avg:newAvg,sum:newSum}}},{key:"assignReports",value:function assignReports(newMetrics){var _this=this;wrapArray(newMetrics).forEach((function(newMetric){return _this.assignReport(_this.report,newMetric)}));return{report:this.report}}},{key:"assignReport",value:function assignReport(report,metric){var key=ReportManager.createMetricKey(metric);switch(metric.type){case METRIC_TYPE.USER_AGENT:{var appName=metric.appName,type=metric.type,userAgent=metric.userAgent;if(userAgent){report.userAgent={[key]:{key:key,appName:appName,type:type,userAgent:metric.userAgent}}}return}case METRIC_TYPE.CLICK:case METRIC_TYPE.LOADED:case METRIC_TYPE.COUNT:{var _appName=metric.appName,_type=metric.type,eventName=metric.eventName,count=metric.count;report.uiStatsMetrics=report.uiStatsMetrics||{};var existingStats=(report.uiStatsMetrics[key]||{}).stats;report.uiStatsMetrics[key]={key:key,appName:_appName,eventName:eventName,type:_type,stats:this.incrementStats(count,existingStats)};return}case METRIC_TYPE.APPLICATION_USAGE:var numberOfClicks=metric.numberOfClicks,startTime=metric.startTime;var minutesOnScreen=external_kbnSharedDeps_MomentTimezone_default()().diff(startTime,"minutes",true);report.application_usage=report.application_usage||{};var appExistingData=report.application_usage[key]||{minutesOnScreen:0,numberOfClicks:0};report.application_usage[key]={minutesOnScreen:appExistingData.minutesOnScreen+minutesOnScreen,numberOfClicks:appExistingData.numberOfClicks+numberOfClicks};break;default:throw new UnreachableCaseError(metric)}}}],[{key:"createReport",value:function createReport(){return{reportVersion:REPORT_VERSION}}},{key:"createMetricKey",value:function createMetricKey(metric){switch(metric.type){case METRIC_TYPE.USER_AGENT:{var appName=metric.appName,type=metric.type;return"".concat(appName,"-").concat(type)}case METRIC_TYPE.CLICK:case METRIC_TYPE.LOADED:case METRIC_TYPE.COUNT:{var _appName2=metric.appName,eventName=metric.eventName,_type2=metric.type;return"".concat(_appName2,"-").concat(_type2,"-").concat(eventName)}case METRIC_TYPE.APPLICATION_USAGE:return metric.appId;default:throw new UnreachableCaseError(metric)}}}]);return ReportManager}();report_defineProperty(report_ReportManager,"REPORT_VERSION",REPORT_VERSION);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function reporter_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function reporter_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function reporter_createClass(Constructor,protoProps,staticProps){if(protoProps)reporter_defineProperties(Constructor.prototype,protoProps);if(staticProps)reporter_defineProperties(Constructor,staticProps);return Constructor}function reporter_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var reporter_Reporter=function(){function Reporter(config){var _this=this;reporter_classCallCheck(this,Reporter);reporter_defineProperty(this,"checkInterval",void 0);reporter_defineProperty(this,"interval",void 0);reporter_defineProperty(this,"lastAppId",void 0);reporter_defineProperty(this,"http",void 0);reporter_defineProperty(this,"reportManager",void 0);reporter_defineProperty(this,"storageManager",void 0);reporter_defineProperty(this,"applicationUsage",void 0);reporter_defineProperty(this,"debug",void 0);reporter_defineProperty(this,"retryCount",0);reporter_defineProperty(this,"maxRetries",3);reporter_defineProperty(this,"started",false);reporter_defineProperty(this,"start",(function(){if(!_this.interval){_this.interval=setTimeout((function(){_this.interval=undefined;_this.sendReports()}),_this.checkInterval)}if(_this.started){return}if(window&&document){window.addEventListener("beforeunload",(function(){return _this.reportApplicationUsage()}));document.addEventListener("visibilitychange",(function(){if(document.visibilityState==="visible"&&_this.lastAppId){_this.reportApplicationUsage(_this.lastAppId)}else if(document.visibilityState==="hidden"){_this.reportApplicationUsage();_this.sendReports()}}))}_this.started=true;_this.applicationUsage.start()}));reporter_defineProperty(this,"reportUiStats",(function(appName,type,eventNames,count){var metrics=wrapArray(eventNames).map((function(eventName){_this.log("".concat(type," Metric -> (").concat(appName,":").concat(eventName,"):"));var report=createUiStatsMetric({type:type,appName:appName,eventName:eventName,count:count});_this.log(report);return report}));_this.saveToReport(metrics)}));reporter_defineProperty(this,"reportUserAgent",(function(appName){_this.log("Reporting user-agent.");var report=trackUsageAgent(appName);_this.saveToReport([report])}));reporter_defineProperty(this,"sendReports",_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var versionMismatch;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(_this.reportManager.isReportEmpty()){_context.next=13;break}_context.prev=1;_context.next=4;return _this.http(_this.reportManager.report);case 4:_this.flushReport();_context.next=13;break;case 7:_context.prev=7;_context.t0=_context["catch"](1);_this.log("Error Sending Metrics Report ".concat(_context.t0));_this.retryCount=_this.retryCount+1;versionMismatch=_this.reportManager.report.reportVersion!==report_ReportManager.REPORT_VERSION;if(versionMismatch||_this.retryCount>_this.maxRetries){_this.flushReport()}case 13:_this.start();case 14:case"end":return _context.stop()}}}),_callee,null,[[1,7]])}))));var http=config.http,storage=config.storage,debug=config.debug,_config$checkInterval=config.checkInterval,checkInterval=_config$checkInterval===void 0?9e4:_config$checkInterval,_config$storageKey=config.storageKey,storageKey=_config$storageKey===void 0?"analytics":_config$storageKey;this.http=http;this.checkInterval=checkInterval;this.applicationUsage=new application_usage_ApplicationUsage;this.storageManager=new ReportStorageManager(storageKey,storage);var storedReport=this.storageManager.get();this.reportManager=new report_ReportManager(storedReport);this.debug=!!debug}reporter_createClass(Reporter,[{key:"saveToReport",value:function saveToReport(newMetrics){this.reportManager.assignReports(newMetrics);this.storageManager.store(this.reportManager.report)}},{key:"flushReport",value:function flushReport(){this.retryCount=0;this.reportManager.clearReport();this.storageManager.store(this.reportManager.report)}},{key:"log",value:function log(message){if(this.debug){console.debug(message)}}},{key:"reportApplicationUsage",value:function reportApplicationUsage(appId){this.log("Reporting application changed to ".concat(appId));this.lastAppId=appId||this.lastAppId;var appChangedReport=this.applicationUsage.appChanged(appId);if(appChangedReport)this.saveToReport([appChangedReport])}}]);return Reporter}()},function(module,exports){module.exports=__kbnSharedDeps__.MomentTimezone},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return showApiError}));var _notification__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6);function createToastConfig(error,errorTitle){if(error&&error.body){var _error$body=error.body,errorString=_error$body.error,statusCode=_error$body.statusCode,message=_error$body.message;return{title:errorTitle,text:"".concat(statusCode,": ").concat(errorString,". ").concat(message)}}}function showApiWarning(error,errorTitle){var toastConfig=createToastConfig(error,errorTitle);if(toastConfig){return _notification__WEBPACK_IMPORTED_MODULE_0__["c"].addWarning(toastConfig)}return _notification__WEBPACK_IMPORTED_MODULE_0__["a"].add(error,errorTitle)}function showApiError(error,errorTitle){var toastConfig=createToastConfig(error,errorTitle);if(toastConfig){return _notification__WEBPACK_IMPORTED_MODULE_0__["c"].addDanger(toastConfig)}_notification__WEBPACK_IMPORTED_MODULE_0__["a"].add(error,errorTitle)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return phaseToNodePreferenceMap}));__webpack_require__.d(__webpack_exports__,"a",(function(){return PLUGIN}));var external_kbnSharedDeps_KbnI18n_=__webpack_require__(2);var WARM_PHASE_NODE_PREFERENCE=["data_warm","data_hot"];var COLD_PHASE_NODE_PREFERENCE=["data_cold","data_warm","data_hot"];var phaseToNodePreferenceMap=Object.freeze({warm:WARM_PHASE_NODE_PREFERENCE,cold:COLD_PHASE_NODE_PREFERENCE});var basicLicense="basic";var PLUGIN={ID:"index_lifecycle_management",minimumLicenseType:basicLicense,TITLE:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.indexLifecycleMgmt.appTitle",{defaultMessage:"Index Lifecycle Policies"})};var API_BASE_PATH="/api/index_lifecycle_management"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return UIM_APP_NAME}));__webpack_require__.d(__webpack_exports__,"a",(function(){return UIM_APP_LOAD}));__webpack_require__.d(__webpack_exports__,"k",(function(){return UIM_POLICY_CREATE}));__webpack_require__.d(__webpack_exports__,"n",(function(){return UIM_POLICY_UPDATE}));__webpack_require__.d(__webpack_exports__,"l",(function(){return UIM_POLICY_DELETE}));__webpack_require__.d(__webpack_exports__,"i",(function(){return UIM_POLICY_ATTACH_INDEX}));__webpack_require__.d(__webpack_exports__,"j",(function(){return UIM_POLICY_ATTACH_INDEX_TEMPLATE}));__webpack_require__.d(__webpack_exports__,"m",(function(){return UIM_POLICY_DETACH_INDEX}));__webpack_require__.d(__webpack_exports__,"c",(function(){return UIM_CONFIG_COLD_PHASE}));__webpack_require__.d(__webpack_exports__,"f",(function(){return UIM_CONFIG_WARM_PHASE}));__webpack_require__.d(__webpack_exports__,"e",(function(){return UIM_CONFIG_SET_PRIORITY}));__webpack_require__.d(__webpack_exports__,"d",(function(){return UIM_CONFIG_FREEZE_INDEX}));__webpack_require__.d(__webpack_exports__,"h",(function(){return UIM_INDEX_RETRY_STEP}));__webpack_require__.d(__webpack_exports__,"g",(function(){return UIM_EDIT_CLICK}));var UIM_APP_NAME="index_lifecycle_management";var UIM_APP_LOAD="app_load";var UIM_POLICY_CREATE="policy_create";var UIM_POLICY_UPDATE="policy_update";var UIM_POLICY_DELETE="policy_delete";var UIM_POLICY_ATTACH_INDEX="policy_attach_index";var UIM_POLICY_ATTACH_INDEX_TEMPLATE="policy_attach_index_template";var UIM_POLICY_DETACH_INDEX="policy_detach_index";var UIM_CONFIG_COLD_PHASE="config_cold_phase";var UIM_CONFIG_WARM_PHASE="config_warm_phase";var UIM_CONFIG_SET_PRIORITY="config_set_priority";var UIM_CONFIG_FREEZE_INDEX="config_freeze_index";var UIM_INDEX_RETRY_STEP="index_retry_step";var UIM_EDIT_CLICK="edit_click"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return init}));__webpack_require__.d(__webpack_exports__,"a",(function(){return createDocLink}));var skippingDisconnectedClustersUrl;var remoteClustersUrl;var transportPortUrl;var _esDocBasePath;function init(esDocBasePath){_esDocBasePath=esDocBasePath}var createDocLink=function createDocLink(docPath){return"".concat(_esDocBasePath).concat(docPath)}},function(module,exports){},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getPolicyPath}));var getPolicyPath=function getPolicyPath(policyName){return encodeURI("/policies/edit/".concat(encodeURIComponent(policyName)))}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/home/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/esUiShared/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_val_loader_dist_cjs_js_key_indexLifecycleManagement_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(21);var _node_modules_val_loader_dist_cjs_js_key_indexLifecycleManagement_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_val_loader_dist_cjs_js_key_indexLifecycleManagement_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__);__kbnBundles__.define("plugin/indexLifecycleManagement/public",__webpack_require__,22)},function(module,exports,__webpack_require__){__webpack_require__.p=window.__kbnPublicPath__["indexLifecycleManagement"]},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"plugin",(function(){return public_plugin}));var external_kbnSharedDeps_KbnI18n_=__webpack_require__(2);var public_=__webpack_require__(18);var constants=__webpack_require__(13);var services_http=__webpack_require__(5);var documentation=__webpack_require__(15);var ui_metric=__webpack_require__(7);var notification=__webpack_require__(6);var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_Lodash_=__webpack_require__(9);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(1);var api=__webpack_require__(8);var external_kbnSharedDeps_MomentTimezone_=__webpack_require__(11);var external_kbnSharedDeps_MomentTimezone_default=__webpack_require__.n(external_kbnSharedDeps_MomentTimezone_);var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(3);var navigation=__webpack_require__(17);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&(typeof call==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var index_lifecycle_summary_getHeaders=function getHeaders(){return[["policy",external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.indexLifecycleMgmt.indexLifecycleMgmtSummary.headers.lifecyclePolicyHeader",{defaultMessage:"Lifecycle policy"})],["phase",external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.indexLifecycleMgmt.indexLifecycleMgmtSummary.headers.currentPhaseHeader",{defaultMessage:"Current phase"})],["action",external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.indexLifecycleMgmt.indexLifecycleMgmtSummary.headers.currentActionHeader",{defaultMessage:"Current action"})],["action_time_millis",external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.indexLifecycleMgmt.indexLifecycleMgmtSummary.headers.currentActionTimeHeader",{defaultMessage:"Current action time"})],["failed_step",external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.indexLifecycleMgmt.indexLifecycleMgmtSummary.headers.failedStepHeader",{defaultMessage:"Failed step"})]]};var index_lifecycle_summary_IndexLifecycleSummary=function(_Component){_inherits(IndexLifecycleSummary,_Component);var _super=_createSuper(IndexLifecycleSummary);function IndexLifecycleSummary(props){var _this;_classCallCheck(this,IndexLifecycleSummary);_this=_super.call(this,props);_defineProperty(_assertThisInitialized(_this),"toggleStackPopover",(function(){_this.setState({showStackPopover:!_this.state.showStackPopover})}));_defineProperty(_assertThisInitialized(_this),"closeStackPopover",(function(){_this.setState({showStackPopover:false})}));_defineProperty(_assertThisInitialized(_this),"togglePhaseExecutionPopover",(function(){_this.setState({showPhaseExecutionPopover:!_this.state.showPhaseExecutionPopover})}));_defineProperty(_assertThisInitialized(_this),"closePhaseExecutionPopover",(function(){_this.setState({showPhaseExecutionPopover:false})}));_this.state={showStackPopover:false,showPhaseExecutionPopover:false};return _this}_createClass(IndexLifecycleSummary,[{key:"renderStackPopoverButton",value:function renderStackPopoverButton(ilm){if(!ilm.step_info.stack_trace){return null}var button=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{onClick:this.toggleStackPopover},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{defaultMessage:"Stack trace",id:"xpack.indexLifecycleMgmt.indexLifecycleMgmtSummary.stackTraceButton"}));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopover"],{id:"stackPopover",button:button,isOpen:this.state.showStackPopover,closePopover:this.closeStackPopover},external_kbnSharedDeps_React_default.a.createElement("div",{style:{maxHeight:"400px",width:"900px",overflowY:"scroll"}},external_kbnSharedDeps_React_default.a.createElement("pre",null,ilm.step_info.stack_trace)))}},{key:"renderPhaseExecutionPopoverButton",value:function renderPhaseExecutionPopoverButton(ilm){var button=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{onClick:this.togglePhaseExecutionPopover},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{defaultMessage:"Show definition",id:"xpack.indexLifecycleMgmt.indexLifecycleMgmtSummary.showPhaseDefinitionButton"}));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],{key:"phaseDefinition"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,external_kbnSharedDeps_React_default.a.createElement("strong",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{defaultMessage:"Phase definition",id:"xpack.indexLifecycleMgmt.indexLifecycleMgmtSummary.showPhaseDefinitionDescriptionTitle"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{key:"phaseDefinition_desc"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopover"],{key:"phaseExecutionPopover",id:"phaseExecutionPopover",button:button,isOpen:this.state.showPhaseExecutionPopover,closePopover:this.closePhaseExecutionPopover,withTitle:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopoverTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{defaultMessage:"Phase definition",id:"xpack.indexLifecycleMgmt.indexLifecycleMgmtSummary.phaseDefinitionTitle"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCodeBlock"],{lang:"json"},JSON.stringify(ilm.phase_execution,null,2)))))}},{key:"buildRows",value:function buildRows(){var _this2=this;var ilm=this.props.index.ilm;var headers=index_lifecycle_summary_getHeaders();var rows={left:[],right:[]};headers.forEach((function(_ref,arrayIndex){var _ref2=_slicedToArray(_ref,2),fieldName=_ref2[0],label=_ref2[1];var value=ilm[fieldName];var content;if(fieldName==="action_time_millis"){content=external_kbnSharedDeps_MomentTimezone_default()(value).format("YYYY-MM-DD HH:mm:ss")}else if(fieldName==="policy"){content=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:_this2.props.getUrlForApp("management",{path:"data/index_lifecycle_management/".concat(Object(navigation["a"])(value))})},value)}else{content=value}content=content||"-";var cell=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],{key:fieldName},external_kbnSharedDeps_React_default.a.createElement("strong",null,label)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{key:fieldName+"_desc"},content));if(arrayIndex%2===0){rows.left.push(cell)}else{rows.right.push(cell)}}));if(ilm.phase_execution){rows.right.push(this.renderPhaseExecutionPopoverButton(ilm))}return rows}},{key:"render",value:function render(){var ilm=this.props.index.ilm;if(!ilm.managed){return null}var _this$buildRows=this.buildRows(),left=_this$buildRows.left,right=_this$buildRows.right;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{defaultMessage:"Index lifecycle management",id:"xpack.indexLifecycleMgmt.indexLifecycleMgmtSummary.summaryTitle"}))),ilm.step_info&&ilm.step_info.type?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{color:"danger",title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{defaultMessage:"Index lifecycle error",id:"xpack.indexLifecycleMgmt.indexLifecycleMgmtSummary.summaryErrorMessage"}),iconType:"cross"},ilm.step_info.type,": ",ilm.step_info.reason,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),this.renderStackPopoverButton(ilm))):null,ilm.step_info&&ilm.step_info.message&&!ilm.step_info.stack_trace?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{color:"primary",title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{defaultMessage:"Action status",id:"xpack.indexLifecycleMgmt.indexLifecycleMgmtSummary.actionStatusTitle"})},ilm.step_info.message)):null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],{type:"column"},left)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],{type:"column"},right))))}}]);return IndexLifecycleSummary}(external_kbnSharedDeps_React_["Component"]);var api_errors=__webpack_require__(12);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function add_lifecycle_confirm_modal_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function add_lifecycle_confirm_modal_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function add_lifecycle_confirm_modal_createClass(Constructor,protoProps,staticProps){if(protoProps)add_lifecycle_confirm_modal_defineProperties(Constructor.prototype,protoProps);if(staticProps)add_lifecycle_confirm_modal_defineProperties(Constructor,staticProps);return Constructor}function add_lifecycle_confirm_modal_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)add_lifecycle_confirm_modal_setPrototypeOf(subClass,superClass)}function add_lifecycle_confirm_modal_setPrototypeOf(o,p){add_lifecycle_confirm_modal_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return add_lifecycle_confirm_modal_setPrototypeOf(o,p)}function add_lifecycle_confirm_modal_createSuper(Derived){var hasNativeReflectConstruct=add_lifecycle_confirm_modal_isNativeReflectConstruct();return function _createSuperInternal(){var Super=add_lifecycle_confirm_modal_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=add_lifecycle_confirm_modal_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return add_lifecycle_confirm_modal_possibleConstructorReturn(this,result)}}function add_lifecycle_confirm_modal_possibleConstructorReturn(self,call){if(call&&(typeof call==="object"||typeof call==="function")){return call}return add_lifecycle_confirm_modal_assertThisInitialized(self)}function add_lifecycle_confirm_modal_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function add_lifecycle_confirm_modal_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function add_lifecycle_confirm_modal_getPrototypeOf(o){add_lifecycle_confirm_modal_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return add_lifecycle_confirm_modal_getPrototypeOf(o)}function add_lifecycle_confirm_modal_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var add_lifecycle_confirm_modal_AddLifecyclePolicyConfirmModal=function(_Component){add_lifecycle_confirm_modal_inherits(AddLifecyclePolicyConfirmModal,_Component);var _super=add_lifecycle_confirm_modal_createSuper(AddLifecyclePolicyConfirmModal);function AddLifecyclePolicyConfirmModal(props){var _this;add_lifecycle_confirm_modal_classCallCheck(this,AddLifecyclePolicyConfirmModal);_this=_super.call(this,props);add_lifecycle_confirm_modal_defineProperty(add_lifecycle_confirm_modal_assertThisInitialized(_this),"addPolicy",_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _this$props,indexName,closeModal,reloadIndices,_this$state,selectedPolicyName,selectedAlias,body;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props=_this.props,indexName=_this$props.indexName,closeModal=_this$props.closeModal,reloadIndices=_this$props.reloadIndices;_this$state=_this.state,selectedPolicyName=_this$state.selectedPolicyName,selectedAlias=_this$state.selectedAlias;if(selectedPolicyName){_context.next=5;break}_this.setState({policyErrorMessage:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyConfirmModal.noPolicySelectedErrorMessage",{defaultMessage:"You must select a policy."})});return _context.abrupt("return");case 5:_context.prev=5;body={indexName:indexName,policyName:selectedPolicyName,alias:selectedAlias};_context.next=9;return Object(api["a"])(body);case 9:closeModal();notification["c"].addSuccess(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyConfirmModal.addPolicyToIndexSuccess",{defaultMessage:"Added policy {policyName} to index {indexName}.",values:{policyName:selectedPolicyName,indexName:indexName}}));reloadIndices();_context.next=17;break;case 14:_context.prev=14;_context.t0=_context["catch"](5);Object(api_errors["a"])(_context.t0,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyConfirmModal.addPolicyToIndexError",{defaultMessage:"Error adding policy to index"}));case 17:case"end":return _context.stop()}}}),_callee,null,[[5,14]])}))));add_lifecycle_confirm_modal_defineProperty(add_lifecycle_confirm_modal_assertThisInitialized(_this),"renderAliasFormElement",(function(selectedPolicy){var selectedAlias=_this.state.selectedAlias;var index=_this.props.index;var showAliasSelect=selectedPolicy&&Object(external_kbnSharedDeps_Lodash_["get"])(selectedPolicy,"policy.phases.hot.actions.rollover");if(!showAliasSelect){return null}var aliases=index.aliases;if(aliases==="none"){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{style:{maxWidth:400},title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyConfirmModal.indexHasNoAliasesWarningTitle",defaultMessage:"Index has no aliases"}),color:"warning"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyConfirmModal.indexHasNoAliasesWarningMessage",defaultMessage:"Policy {policyName} is configured for rollover, but index {indexName} does not have an alias, which is required for rollover.",values:{policyName:selectedPolicy===null||selectedPolicy===void 0?void 0:selectedPolicy.name,indexName:index.name}})))}var aliasOptions=aliases.map((function(alias){return{text:alias,value:alias}}));aliasOptions.unshift({text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyConfirmModal.chooseAliasMessage",{defaultMessage:"Choose an alias"}),value:""});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyConfirmModal.chooseAliasLabel",defaultMessage:"Index rollover alias"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelect"],{options:aliasOptions,value:selectedAlias,onChange:function onChange(e){_this.setState({selectedAlias:e.target.value})}}))}));_this.state={policies:[],selectedPolicyName:"",selectedAlias:""};return _this}add_lifecycle_confirm_modal_createClass(AddLifecyclePolicyConfirmModal,[{key:"renderForm",value:function renderForm(){var _this2=this;var _this$state2=this.state,policies=_this$state2.policies,selectedPolicyName=_this$state2.selectedPolicyName,policyErrorMessage=_this$state2.policyErrorMessage;var selectedPolicy=selectedPolicyName?policies.find((function(policy){return policy.name===selectedPolicyName})):undefined;var options=policies.map((function(_ref2){var name=_ref2.name;return{value:name,text:name}}));options.unshift({value:"",text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyConfirmModal.choosePolicyMessage",{defaultMessage:"Select a lifecycle policy"})});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiForm"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{isInvalid:!!policyErrorMessage,error:policyErrorMessage,label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyConfirmModal.choosePolicyLabel",defaultMessage:"Lifecycle policy"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelect"],{options:options,value:selectedPolicyName,onChange:function onChange(e){_this2.setState({policyErrorMessage:undefined,selectedPolicyName:e.target.value})}})),this.renderAliasFormElement(selectedPolicy))}},{key:"componentDidMount",value:function(){var _componentDidMount=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var policies;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return Object(api["d"])(false);case 3:policies=_context2.sent;this.setState({policies:policies});_context2.next=11;break;case 7:_context2.prev=7;_context2.t0=_context2["catch"](0);Object(api_errors["a"])(_context2.t0,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyConfirmModal.loadPolicyError",{defaultMessage:"Error loading policy list"}));this.props.closeModal();case 11:case"end":return _context2.stop()}}}),_callee2,this,[[0,7]])})));function componentDidMount(){return _componentDidMount.apply(this,arguments)}return componentDidMount}()},{key:"render",value:function render(){var policies=this.state.policies;var _this$props2=this.props,indexName=_this$props2.indexName,closeModal=_this$props2.closeModal,getUrlForApp=_this$props2.getUrlForApp;var title=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyConfirmModal.modalTitle",defaultMessage:'Add lifecycle policy to "{indexName}"',values:{indexName:indexName}});if(!policies.length){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiOverlayMask"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiModal"],{onClose:closeModal},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiModalHeader"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiModalHeaderTitle"],null,title)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiModalBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{style:{maxWidth:400},title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyConfirmModal.noPoliciesWarningTitle",defaultMessage:"No index lifecycle policies defined"}),color:"warning"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:getUrlForApp("management",{path:"data/index_lifecycle_management/policies/edit"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyConfirmModal.defineLifecyclePolicyLinkText",defaultMessage:"Define lifecycle policy"})))))))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiOverlayMask"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiConfirmModal"],{title:title,onCancel:closeModal,onConfirm:this.addPolicy,cancelButtonText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyConfirmModal.cancelButtonText",defaultMessage:"Cancel"}),confirmButtonText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.indexLifecycleMgmt.indexManagementTable.addLifecyclePolicyConfirmModal.addPolicyButtonText",defaultMessage:"Add policy"})},this.renderForm()))}}]);return AddLifecyclePolicyConfirmModal}(external_kbnSharedDeps_React_["Component"]);function remove_lifecycle_confirm_modal_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function remove_lifecycle_confirm_modal_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){remove_lifecycle_confirm_modal_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){remove_lifecycle_confirm_modal_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function remove_lifecycle_confirm_modal_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function remove_lifecycle_confirm_modal_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function remove_lifecycle_confirm_modal_createClass(Constructor,protoProps,staticProps){if(protoProps)remove_lifecycle_confirm_modal_defineProperties(Constructor.prototype,protoProps);if(staticProps)remove_lifecycle_confirm_modal_defineProperties(Constructor,staticProps);return Constructor}function remove_lifecycle_confirm_modal_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)remove_lifecycle_confirm_modal_setPrototypeOf(subClass,superClass)}function remove_lifecycle_confirm_modal_setPrototypeOf(o,p){remove_lifecycle_confirm_modal_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return remove_lifecycle_confirm_modal_setPrototypeOf(o,p)}function remove_lifecycle_confirm_modal_createSuper(Derived){var hasNativeReflectConstruct=remove_lifecycle_confirm_modal_isNativeReflectConstruct();return function _createSuperInternal(){var Super=remove_lifecycle_confirm_modal_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=remove_lifecycle_confirm_modal_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return remove_lifecycle_confirm_modal_possibleConstructorReturn(this,result)}}function remove_lifecycle_confirm_modal_possibleConstructorReturn(self,call){if(call&&(typeof call==="object"||typeof call==="function")){return call}return remove_lifecycle_confirm_modal_assertThisInitialized(self)}function remove_lifecycle_confirm_modal_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function remove_lifecycle_confirm_modal_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function remove_lifecycle_confirm_modal_getPrototypeOf(o){remove_lifecycle_confirm_modal_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return remove_lifecycle_confirm_modal_getPrototypeOf(o)}function remove_lifecycle_confirm_modal_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var remove_lifecycle_confirm_modal_RemoveLifecyclePolicyConfirmModal=function(_Component){remove_lifecycle_confirm_modal_inherits(RemoveLifecyclePolicyConfirmModal,_Component);var _super=remove_lifecycle_confirm_modal_createSuper(RemoveLifecyclePolicyConfirmModal);function RemoveLifecyclePolicyConfirmModal(){var _this;remove_lifecycle_confirm_modal_classCallCheck(this,RemoveLifecyclePolicyConfirmModal);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_super.call.apply(_super,[this].concat(args));remove_lifecycle_confirm_modal_defineProperty(remove_lifecycle_confirm_modal_assertThisInitialized(_this),"removePolicy",remove_lifecycle_confirm_modal_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _this$props,indexNames,closeModal,reloadIndices;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props=_this.props,indexNames=_this$props.indexNames,closeModal=_this$props.closeModal,reloadIndices=_this$props.reloadIndices;_context.prev=1;_context.next=4;return Object(api["e"])(indexNames);case 4:closeModal();notification["c"].addSuccess(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.indexLifecycleMgmt.indexManagementTable.removeLifecyclePolicyConfirmModal.removePolicySuccess",{defaultMessage:"Removed lifecycle policy from {count, plural, one {index} other {indices}}",values:{count:indexNames.length}}));reloadIndices();_context.next=12;break;case 9:_context.prev=9;_context.t0=_context["catch"](1);Object(api_errors["a"])(_context.t0,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.indexLifecycleMgmt.indexManagementTable.removeLifecyclePolicyConfirmModal.removePolicyToIndexError",{defaultMessage:"Error removing policy"}));case 12:case"end":return _context.stop()}}}),_callee,null,[[1,9]])}))));return _this}remove_lifecycle_confirm_modal_createClass(RemoveLifecyclePolicyConfirmModal,[{key:"render",value:function render(){var _this$props2=this.props,closeModal=_this$props2.closeModal,indexNames=_this$props2.indexNames;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiOverlayMask"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiConfirmModal"],{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.indexLifecycleMgmt.indexManagementTable.removeLifecyclePolicyConfirmModal.modalTitle",defaultMessage:"Remove lifecycle policy from {count, plural, one {index} other {indices}}",values:{count:indexNames.length}}),onCancel:closeModal,onConfirm:this.removePolicy,cancelButtonText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.indexLifecycleMgmt.indexManagementTable.removeLifecyclePolicyConfirmModal.cancelButtonText",defaultMessage:"Cancel"}),buttonColor:"danger",confirmButtonText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.indexLifecycleMgmt.indexManagementTable.removeLifecyclePolicyConfirmModal.removePolicyButtonText",defaultMessage:"Remove policy"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.indexLifecycleMgmt.indexManagementTable.removeLifecyclePolicyConfirmModal.removeMessage",defaultMessage:"You are about to remove the index lifecycle policy from {count, plural, one {this index} other {these indices}}. This operation cannot be undone.",values:{count:indexNames.length}})),external_kbnSharedDeps_React_default.a.createElement("ul",null,indexNames.map((function(indexName){return external_kbnSharedDeps_React_default.a.createElement("li",{key:indexName},indexName)}))))))}}]);return RemoveLifecyclePolicyConfirmModal}(external_kbnSharedDeps_React_["Component"]);var stepPath="ilm.step";var extend_index_management_retryLifecycleActionExtension=function retryLifecycleActionExtension(_ref){var indices=_ref.indices;var allHaveErrors=Object(external_kbnSharedDeps_Lodash_["every"])(indices,(function(index){return index.ilm&&index.ilm.failed_step}));if(!allHaveErrors){return null}var indexNames=indices.map((function(_ref2){var name=_ref2.name;return name}));return{requestMethod:api["f"],icon:"play",indexNames:[indexNames],buttonLabel:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.indexLifecycleMgmt.retryIndexLifecycleActionButtonLabel",{defaultMessage:"Retry lifecycle step"}),successMessage:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.indexLifecycleMgmt.retryIndexLifecycleAction.retriedLifecycleMessage",{defaultMessage:"Called retry lifecycle step for: {indexNames}",values:{indexNames:indexNames.map((function(indexName){return'"'.concat(indexName,'"')})).join(", ")}})}};var extend_index_management_removeLifecyclePolicyActionExtension=function removeLifecyclePolicyActionExtension(_ref3){var indices=_ref3.indices,reloadIndices=_ref3.reloadIndices;var allHaveIlm=Object(external_kbnSharedDeps_Lodash_["every"])(indices,(function(index){return index.ilm&&index.ilm.managed}));if(!allHaveIlm){return null}var indexNames=indices.map((function(_ref4){var name=_ref4.name;return name}));return{renderConfirmModal:function renderConfirmModal(closeModal){return external_kbnSharedDeps_React_default.a.createElement(remove_lifecycle_confirm_modal_RemoveLifecyclePolicyConfirmModal,{indexNames:indexNames,closeModal:closeModal,reloadIndices:reloadIndices})},icon:"stopFilled",indexNames:[indexNames],buttonLabel:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.indexLifecycleMgmt.removeIndexLifecycleActionButtonLabel",{defaultMessage:"Remove lifecycle policy"})}};var extend_index_management_addLifecyclePolicyActionExtension=function addLifecyclePolicyActionExtension(_ref5){var indices=_ref5.indices,reloadIndices=_ref5.reloadIndices,getUrlForApp=_ref5.getUrlForApp;if(indices.length!==1){return null}var index=indices[0];var hasIlm=index.ilm&&index.ilm.managed;if(hasIlm){return null}var indexName=index.name;return{renderConfirmModal:function renderConfirmModal(closeModal){return external_kbnSharedDeps_React_default.a.createElement(add_lifecycle_confirm_modal_AddLifecyclePolicyConfirmModal,{indexName:indexName,closeModal:closeModal,index:index,reloadIndices:reloadIndices,getUrlForApp:getUrlForApp})},icon:"plusInCircle",buttonLabel:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.indexLifecycleMgmt.addLifecyclePolicyActionButtonLabel",{defaultMessage:"Add lifecycle policy"})}};var extend_index_management_ilmBannerExtension=function ilmBannerExtension(indices){var Query=external_kbnSharedDeps_ElasticEui_["EuiSearchBar"].Query;if(!indices.length){return null}var indicesWithLifecycleErrors=indices.filter((function(index){return Object(external_kbnSharedDeps_Lodash_["get"])(index,stepPath)==="ERROR"}));var numIndicesWithLifecycleErrors=indicesWithLifecycleErrors.length;if(!numIndicesWithLifecycleErrors){return null}return{type:"warning",filter:Query.parse("".concat(stepPath,":ERROR")),filterLabel:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.indexLifecycleMgmt.indexMgmtBanner.filterLabel",{defaultMessage:"Show errors"}),title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.indexLifecycleMgmt.indexMgmtBanner.errorMessage",{defaultMessage:"{ numIndicesWithLifecycleErrors, number}\n          {numIndicesWithLifecycleErrors, plural, one {index has} other {indices have} }\n          lifecycle errors",values:{numIndicesWithLifecycleErrors:numIndicesWithLifecycleErrors}})}};var extend_index_management_ilmSummaryExtension=function ilmSummaryExtension(index,getUrlForApp){return external_kbnSharedDeps_React_default.a.createElement(index_lifecycle_summary_IndexLifecycleSummary,{index:index,getUrlForApp:getUrlForApp})};var extend_index_management_ilmFilterExtension=function ilmFilterExtension(indices){var hasIlm=Object(external_kbnSharedDeps_Lodash_["some"])(indices,(function(index){return index.ilm&&index.ilm.managed}));if(!hasIlm){return[]}else{return[{type:"field_value_selection",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.indexLifecycleMgmt.indexMgmtFilter.lifecycleStatusLabel",{defaultMessage:"Lifecycle status"}),multiSelect:false,field:"ilm.managed",options:[{value:true,view:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.indexLifecycleMgmt.indexMgmtFilter.managedLabel",{defaultMessage:"Managed"})},{value:false,view:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.indexLifecycleMgmt.indexMgmtFilter.unmanagedLabel",{defaultMessage:"Unmanaged"})}]},{type:"field_value_selection",field:"ilm.phase",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.indexLifecycleMgmt.indexMgmtFilter.lifecyclePhaseLabel",{defaultMessage:"Lifecycle phase"}),multiSelect:"or",options:[{value:"hot",view:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.indexLifecycleMgmt.indexMgmtFilter.hotLabel",{defaultMessage:"Hot"})},{value:"warm",view:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.indexLifecycleMgmt.indexMgmtFilter.warmLabel",{defaultMessage:"Warm"})},{value:"frozen",view:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.indexLifecycleMgmt.indexMgmtFilter.frozenLabel",{defaultMessage:"Frozen"})},{value:"cold",view:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.indexLifecycleMgmt.indexMgmtFilter.coldLabel",{defaultMessage:"Cold"})},{value:"delete",view:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.indexLifecycleMgmt.indexMgmtFilter.deleteLabel",{defaultMessage:"Delete"})}]}]}};var addAllExtensions=function addAllExtensions(extensionsService){extensionsService.addAction(extend_index_management_retryLifecycleActionExtension);extensionsService.addAction(extend_index_management_removeLifecyclePolicyActionExtension);extensionsService.addAction(extend_index_management_addLifecyclePolicyActionExtension);extensionsService.addBanner(extend_index_management_ilmBannerExtension);extensionsService.addSummary(extend_index_management_ilmSummaryExtension);extensionsService.addFilter(extend_index_management_ilmFilterExtension)};function plugin_slicedToArray(arr,i){return plugin_arrayWithHoles(arr)||plugin_iterableToArrayLimit(arr,i)||plugin_unsupportedIterableToArray(arr,i)||plugin_nonIterableRest()}function plugin_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function plugin_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return plugin_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return plugin_arrayLikeToArray(o,minLen)}function plugin_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function plugin_iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function plugin_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function plugin_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function plugin_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){plugin_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){plugin_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function plugin_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function plugin_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function plugin_createClass(Constructor,protoProps,staticProps){if(protoProps)plugin_defineProperties(Constructor.prototype,protoProps);if(staticProps)plugin_defineProperties(Constructor,staticProps);return Constructor}var plugin_IndexLifecycleManagementPlugin=function(){function IndexLifecycleManagementPlugin(initializerContext){plugin_classCallCheck(this,IndexLifecycleManagementPlugin);this.initializerContext=initializerContext}plugin_createClass(IndexLifecycleManagementPlugin,[{key:"setup",value:function setup(coreSetup,plugins){var _this$initializerCont=this.initializerContext.config.get(),isIndexLifecycleManagementUiEnabled=_this$initializerCont.ui.enabled;if(isIndexLifecycleManagementUiEnabled){var http=coreSetup.http,toasts=coreSetup.notifications.toasts,fatalErrors=coreSetup.fatalErrors,getStartServices=coreSetup.getStartServices;var usageCollection=plugins.usageCollection,management=plugins.management,indexManagement=plugins.indexManagement,home=plugins.home,cloud=plugins.cloud;Object(services_http["a"])(http);Object(ui_metric["b"])(usageCollection);Object(notification["b"])(toasts,fatalErrors);management.sections.section.data.registerApp({id:constants["a"].ID,title:constants["a"].TITLE,order:2,mount:function(){var _mount=plugin_asyncToGenerator(regeneratorRuntime.mark((function _callee(_ref){var element,history,_yield$getStartServic,_yield$getStartServic2,coreStart,docTitle,I18nContext,_coreStart$docLinks,ELASTIC_WEBSITE_URL,DOC_LINK_VERSION,_coreStart$applicatio,navigateToApp,getUrlForApp,_yield$import,renderApp,unmountAppCallback;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:element=_ref.element,history=_ref.history;_context.next=3;return getStartServices();case 3:_yield$getStartServic=_context.sent;_yield$getStartServic2=plugin_slicedToArray(_yield$getStartServic,1);coreStart=_yield$getStartServic2[0];docTitle=coreStart.chrome.docTitle,I18nContext=coreStart.i18n.Context,_coreStart$docLinks=coreStart.docLinks,ELASTIC_WEBSITE_URL=_coreStart$docLinks.ELASTIC_WEBSITE_URL,DOC_LINK_VERSION=_coreStart$docLinks.DOC_LINK_VERSION,_coreStart$applicatio=coreStart.application,navigateToApp=_coreStart$applicatio.navigateToApp,getUrlForApp=_coreStart$applicatio.getUrlForApp;docTitle.change(constants["a"].TITLE);Object(documentation["b"])("".concat(ELASTIC_WEBSITE_URL,"guide/en/elasticsearch/reference/").concat(DOC_LINK_VERSION,"/"));_context.next=11;return Promise.all([__webpack_require__.e(1),__webpack_require__.e(2)]).then(__webpack_require__.bind(null,150));case 11:_yield$import=_context.sent;renderApp=_yield$import.renderApp;unmountAppCallback=renderApp(element,I18nContext,history,navigateToApp,getUrlForApp,cloud);return _context.abrupt("return",(function(){docTitle.reset();unmountAppCallback()}));case 15:case"end":return _context.stop()}}}),_callee)})));function mount(_x){return _mount.apply(this,arguments)}return mount}()});if(home){home.featureCatalogue.register({id:constants["a"].ID,title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.indexLifecycleMgmt.featureCatalogueTitle",{defaultMessage:"Manage index lifecycles"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.indexLifecycleMgmt.featureCatalogueDescription",{defaultMessage:"Define lifecycle policies to automatically perform operations as an index ages."}),icon:"indexSettings",path:"/app/management/data/index_lifecycle_management",showOnHomePage:true,category:public_["FeatureCatalogueCategory"].ADMIN,order:640})}if(indexManagement){addAllExtensions(indexManagement.extensionsService)}}}},{key:"start",value:function start(){}},{key:"stop",value:function stop(){}}]);return IndexLifecycleManagementPlugin}();var public_plugin=function plugin(initializerContext){return new plugin_IndexLifecycleManagementPlugin(initializerContext)}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.ReactDom},function(module,exports){module.exports=__kbnSharedDeps__.ReactRouterDom},function(module,exports){module.exports=__kbnSharedDeps__.ElasticEuiLibServices},function(module,exports){module.exports=__kbnSharedDeps__.Moment},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/indexManagement/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))}]);